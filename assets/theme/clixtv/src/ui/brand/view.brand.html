<div ng-if="!configs">
    <clix-loader size="large"></clix-loader>
</div>

<div class="brand-page" ng-if="configs">
    <clix-landing-page-banner background-image="{{brand.headerImage}}" mobile-background-image="{{$root.clixConfig.baseImageUrl}}/mobile-brand-cover.jpg">
        <banner-type>
            Brand
        </banner-type>
        <banner-title>
            {{brand.title}}
        </banner-title>
        <banner-sub-title>
            {{brand.totalOffers || '0'}} {{brand.totalOffers === 1 ? 'Offer' : 'Offers'}}
        </banner-sub-title>
        <banner-logo-container>
            <clix-brand-asset-logo brand="brand"></clix-brand-asset-logo>
        </banner-logo-container>
        <banner-button-container>
            <div clix-tooltip-trigger tooltip-id="landing-banner-favorite-{{brand.id}}">
                <clix-tertiary-button ng-click="onFavoritePress()">
                    {{isFavorite ? 'Added to Favorites' : 'Favorite'}}
                </clix-tertiary-button>
            </div>
        </banner-button-container>
        <banner-share-button-container>
            <div clix-tooltip-trigger tooltip-id="landing-banner-share-{{brand.id}}">
                <clix-share-button extra-class="banner-share-icon" brand="brand"></clix-share-button>
                <clix-points-violator>
                    50
                </clix-points-violator>
            </div>
        </banner-share-button-container>
    </clix-landing-page-banner>
    <div class="brand-page-content">
        <div class="clix-tabs">
            <uib-tabset active="active">
                <uib-tab index="0" heading="Home" select="onTabSelect('home')">
                    <div class="home-container">
                        <clix-landing-video-content video="video">
                            <content-description>
                                <clix-secondary-header>
                                    About {{configs.title}}
                                </clix-secondary-header>
                                <div class="home-description" ng-bind-html="configs.description | clixNewLineBreak"></div>
                            </content-description>
                            <sidebar-title>
                                Offers From {{configs.title}}
                            </sidebar-title>
                            <sidebar-content>
                                <div class="row brand-offer-row">
                                    <div class="col-xs-6 col-sm-3 col-md-3 col-lg-12 brand-offer-column" ng-repeat="offer in brand.offers.offers | limitTo: 3">
                                        <div class="brand-offer">
                                            <clix-offer-content-callout offer="offer" ng-click="onOfferPress(offer)"></clix-offer-content-callout>
                                        </div>
                                    </div>
                                </div>
                            </sidebar-content>
                            <footer-content>
                                <div class="brand-categories-container">
                                    <clix-secondary-header>
                                        Brand Categories <i class="icon-right-arrow"></i>
                                    </clix-secondary-header>
                                    <div class="brand-category-logo-container">
                                        <div class="brand-category-logo">
                                            <clix-brand-category-logo brand="video" category-title="Sportswear"></clix-brand-category-logo>
                                        </div>
                                        <div class="brand-category-logo">
                                            <clix-brand-category-logo brand="video" category-title="Shoes"></clix-brand-category-logo>
                                        </div>
                                        <div class="brand-category-logo">
                                            <clix-brand-category-logo brand="video" category-title="Swimwear"></clix-brand-category-logo>
                                        </div>
                                        <div class="brand-category-logo">
                                            <clix-brand-category-logo brand="video" category-title="Training & Gym"></clix-brand-category-logo>
                                        </div>
                                    </div>
                                </div>
                                <div class="brand-celebrity-videos">
                                    <div ng-repeat="celebrity in brand.celebrities.celebrities | limitTo: 3">
                                        <clix-video-category-scroll-list category-title="{{celebrity.name}} and {{brand.title}}" category-videos="celebrity.videos.videos" enable-show-more="false" order="episodeNumber"></clix-video-category-scroll-list>
                                    </div>
                                </div>
                            </footer-content>
                            <share-tooltip-content>
                                <div ng-if="pointsEnabled">
                                    <div ng-if="loggedInUser">
                                        You will receive 50 Reward Points for sharing!
                                    </div>
                                    <div ng-if="!loggedInUser">
                                        After signing up, you will receive 50 Reward Points for sharing! <a clix-learn-more-modal-trigger>Learn More</a>.
                                    </div>
                                </div>
                                <div ng-if="!pointsEnabled">
                                    Coming Soon! You will receive Reward Points for sharing. <a clix-learn-more-modal-trigger>Learn More</a>.
                                </div>
                            </share-tooltip-content>
                            <share-icon>
                                <clix-share-button extra-class="landing-share-icon" brand="brand"></clix-share-button>
                            </share-icon>
                        </clix-landing-video-content>
                    </div>
                </uib-tab>
                <uib-tab index="1" heading="Offers" select="onTabSelect('offers')">
                    <div class="row clix-block-row offers-container">
                        <div class="clix-block-item col-xs-6 col-sm-4 col-md-3 col-lg-2" ng-repeat="offer in brand.offers.offers">
                            <clix-offer-content-callout offer="offer" ng-click="onOfferPress(offer)"></clix-offer-content-callout>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="2" heading="Stars" select="onTabSelect('stars')">
                    <div class="stars-container">
                        <div ng-repeat="celebrity in brand.celebrities.celebrities">
                            <clix-video-category-scroll-list category-title="{{celebrity.name}} and {{brand.title}}" category-videos="celebrity.videos.videos" enable-show-more="false" order="episodeNumber"></clix-video-category-scroll-list>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="3" heading="Videos" select="onTabSelect('videos')">
                    <div class="videos-container">
                        <div class="videos-title-container">
                            <div class="videos-title">
                                <clix-secondary-header>
                                    All Videos Related To {{brand.title}}
                                </clix-secondary-header>
                            </div>
                            <div class="video-sort-container" ng-show="filtersEnabled !== false">
                                <clix-dropdown options="seriesList" placeholder-text="Sort By"></clix-dropdown>
                            </div>
                        </div>
                        <clix-video-content-callout-list videos="brand.videos.videos" grid-classes="col-xs-6 col-sm-4 col-md-4 col-lg-2-4"></clix-video-content-callout-list>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</div>

<clix-tooltip tooltip-id="landing-banner-favorite-{{brand.id}}">
    {{loggedInUser ? ((isFavorite) ? 'Remove this brand from your Favorites' : 'Add this brand to your Favorites.') : 'After signing up, you will be able to add this brand to your Favorites.'}}
</clix-tooltip>

<clix-tooltip tooltip-id="landing-banner-share-{{brand.id}}">
    Share this page
</clix-tooltip>