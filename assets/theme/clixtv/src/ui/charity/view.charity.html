<div ng-if="!charity">
    <clix-loader size="large"></clix-loader>
</div>

<div class="charity-page" ng-if="charity">
    <clix-hero-banner
            title-text="{{charity.title}}"
            button-text="{{'Favorites'}}"
            subtext="{{charity.videos.videos.length}} {{charity.videos.videos.length === 1 ? 'Video' : 'Videos'}}"
            button-icon-class="{{'icon-favorite-icon banner-favorite-icon'}}"
            background-image="{{charity.headerImage}}"
            background-image2x="{{charity.headerImage}}"
            background-image3x="{{charity.headerImage}}"
            charity="true"
            button-tooltip-text="{{loggedInUser ? (isFavorite ? 'Remove this charity from your Favorites.' : 'Add this charity to your Favorites.') : 'After signing up, you will be able to add this charity to your Favorites.'}}"
            share-tooltip-text="Share this page."
            banner-type="Charity"
    >
        <favorite-button>
            <clix-tertiary-button ng-click="onFavoritePress()">
                {{isFavorite ? 'Added to Favorites' : 'Favorite'}}
            </clix-tertiary-button>
        </favorite-button>
        <share-icon>
            <clix-share-button extra-class="banner-share-icon" charity="charity"></clix-share-button>
        </share-icon>
    </clix-hero-banner>
    <div class="charity-page-content">
        <div class="clix-tabs">
            <uib-tabset active="active">
                <uib-tab index="0" heading="Home">

                    <div class="home-container">
                        <clix-landing-video-content video="video" charity="true">
                            <content-description>
                                <div class="charity-description-container">
                                    <clix-secondary-header>
                                        About {{charity.title}}
                                    </clix-secondary-header>
                                    <div class="home-description">
                                        {{charity.description}}
                                    </div>
                                    <div class="donate-button">
                                        <clix-primary-button type="charity" ng-click="onDonatePress()">
                                            Donate
                                        </clix-primary-button>
                                    </div>
                                </div>
                            </content-description>
                            <sidebar-title>
                                Stars Who Support {{charity.title}}
                            </sidebar-title>
                            <sidebar-content>
                                <div class="row brand-offer-row">
                                    <div class="col-xs-6 col-sm-6 col-md-12 col-lg-12 brand-offer-column" ng-repeat="celebrity in charity.celebrities.celebrities | limitTo: 3">
                                        <div class="star-support-callout">
                                            <clix-star-content-callout star="celebrity"></clix-star-content-callout>
                                        </div>
                                    </div>
                                </div>
                            </sidebar-content>
                            <footer-content>
                                <div class="home-footer-content">
                                    <div class="brand-celebrity-videos">
                                        <div ng-repeat="celebrity in charity.celebrities.celebrities | limitTo: 3">
                                            <clix-video-category-scroll-list category-title="{{celebrity.name}} and {{charity.title}}" category-videos="celebrity.videos.videos"></clix-video-category-scroll-list>
                                        </div>
                                    </div>
                                </div>
                            </footer-content>
                        </clix-landing-video-content>
                    </div>

                </uib-tab>
                <uib-tab index="2" heading="Stars">
                    <div class="stars-container">
                        <div ng-repeat="celebrity in charity.celebrities.celebrities">
                            <clix-video-category-scroll-list category-title="{{celebrity.name}} and {{charity.title}}" category-videos="celebrity.videos.videos"></clix-video-category-scroll-list>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="3" heading="Videos">
                    <div class="videos-container">
                        <div class="videos-title-container">
                            <div class="videos-title">
                                <clix-secondary-header>
                                    All Videos Featuring {{charity.title}}
                                </clix-secondary-header>
                            </div>
                            <div class="video-sort-container">
                                <clix-dropdown options="seriesList" placeholder-text="Sort By"></clix-dropdown>
                            </div>
                        </div>
                        <div class="row clix-block-row">
                            <div class="clix-block-item col-xs-12 col-sm-12 col-md-3 col-lg-2-4" ng-repeat="video in charity.videos.videos">
                                <clix-video-content-box video="video"></clix-video-content-box>
                            </div>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</div>